# HIDA Explorer：動く世界で予測誤差を検出するエージェント

## 概要

前方1マスしか見えないエージェントが、**主観的な内部マップ**を構築しながら探索。
壁が勝手に動く世界で、記憶と現実のズレ（予測誤差）を検出する。

## 動く世界

```
壁が5%の確率で隣のマスへ移動
→ HIDAの記憶と現実がズレる
→ 予測誤差が自然に発生
```

## 予測誤差検出（L3）

見た瞬間に記憶と比較：
```
記憶: (3, 4) は empty
現実: wall がある

⚡ 予測誤差 @ (3, 4)
   予測: empty → 現実: wall
💭 「あれ？違う...」
```

人間の「違和感」と同じ：
- 記憶:「ここ通れたはず」
- 見る:「壁がある」
- →「えっ、変わってる！」

## ミッションの流れ

```
1. 探索しながらボール探す
2. 壁が動く → 予測誤差発生
3. ボール発見 → つかむ
4. 未探索マス優先でゴール探す
5. ゴール到達 → 届ける
6. 🏆 ミッション成功！
```

## 実行結果の例

```
--- Step 28 ---
  🧱 壁が動いた！ (3, 5) → (2, 5)
     （HIDAはまだ知らない...）

--- Step 35 ---
  ⚡ 予測誤差 @ (2, 5)
     予測: empty → 現実: wall
  💭 「記憶と違う！」

--- Step 52 ---
  🎉 ボール発見！目の前にある！
  ballをつかんだ

--- Step 78 ---
  🎯 ゴール到達！
  ballをゴールに置いた
  🏆 ミッション成功！
```

## ファイル構成

```
hida_explorer/
├── test_moving_world.py  # 動く世界テスト（メイン）
├── main.py               # 神の介入テスト（静的世界）
├── hida.py               # HIDAエージェント
├── world.py              # 世界（壁が動く）
└── narrator.py           # 予測誤差の言語化
```

## 実行

```bash
# 動く世界テスト
python test_moving_world.py

# 神の介入テスト（静的世界）
python main.py
```

## 核心

```
予測誤差 = 予測 - 現実

予測がなければ誤差も生まれない
主観的世界（内部マップ）= 予測の源

→ 主観的世界がないと予測誤差は生まれない
```

## ライセンス

MIT License
