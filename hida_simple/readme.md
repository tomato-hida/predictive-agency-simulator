# 迷路実験まとめ：記憶と計画

## 概要

HIDAエージェントに迷路を解かせる実験を通じて、「記憶」「教え」「計画」の役割を検証した。

## 実験の流れ

### Phase 1: ルールベースの限界

5x5グリッドに壁を追加。ルールベースで壁回避を試みた。

```
問題: 壁にぶつかると無限ループ
修正: 全方向を試すロジックに変更
結果: 5x5は解けた
```

### Phase 2: プリミティブの限界

壁を5つに増やしたら50ステップでもゴールできなくなった。

**発見：**
> プリミティブをどれだけいじっても答えにたどり着けない。人間は記憶を使う。

### Phase 3: 記憶の2種類

```
長期記憶（クオリア）= 数値化OK → 性格
短期記憶（作業記憶）= そのまま → 今のタスク
```

短期記憶は「この場所で何を試したか」の具体的な履歴が必要。

### Phase 4: 教えてもらう

```
自力学習 = 試行錯誤、遅い、AIっぽい
教えてもらう = 速い、人間っぽい
```

**実装：**
```python
state.add_teaching("同じ場所で2回失敗", "別の方向へ", "claude")
```

**結果：**
```
教えなし → 成功率 0/20
教えあり → 成功率 20/20
```

### Phase 5: シンプル版

発達の順番が大事。まず記憶、それから他。

- クオリアなし
- 好奇心なし
- 意識ONなし
- 記憶だけ

### Phase 6: 計画の必要性

壁配置を難しくしたら、教えがあってもゴールできなくなった。

**発見：**
> 人間は全体を見て、どうやったらゴールに行けるか予想してから行動する。

### Phase 7: LLMに計画を立てさせる

```
Claude → 完璧なルート
ollama 4B → 壁を通るルート
```

### Phase 8: 確認ループ

```
Step 1: 計画 → 壁を通るルート
Step 2: 確認 → 「[3,1]が含まれてます」✅
Step 3: 修正 → また壁を通った ❌
```

**結論：検出はできた。修正はできなかった。**

## 発見

| 処理 | 賢さ |
|------|------|
| 計画を立てる | 必要 |
| 誤差を検出する | 不要 |
| 計画を修正する | 必要 |

**賢さとは：**
> 誤差を見る力ではなく、誤差が生まれる「前提（計画）」を作る力

## 使い方

```bash
# 実行
python main.py

# 教えを追加
python main.py teach

# 教え一覧
python main.py teachings

# 記憶リセット
python main.py reset

# LLMに計画を立てさせる（要ollama）
python test_planning.py
```

## ファイル構成

```
hida_simple/
├── main.py           # メイン
├── hida_state.py     # 状態（記憶）
├── ai_brain.py       # 行動決定
├── simple_world.py   # 6x6グリッド
└── test_planning.py  # LLM計画テスト
```

## 技術的成果

- 記憶システム（短期・長期）
- 教えてもらう機能（teachings）
- 自己記憶と教えの組み合わせ

## 理論的成果

- 計画に賢さが必要
- 誤差検出に賢さ不要
- 人は動く前に計画を立て、誤差で修正する
