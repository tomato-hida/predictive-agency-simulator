# Phase 7 & 8: Ollama Connection and Qualia Learning

## 概要

飛騨アーキテクチャとローカル LLM（Ollama/Gemma）を接続する実験。

## Phase 7: HIDA + Ollama Connection

飛騨の内部状態を Ollama に渡し、言語化してもらう。

### 仕組み

```
飛騨：内部状態を生成（クオリア値、感情、意識フラグ）
  ↓
状態を文章にして Ollama に送信
  ↓
Ollama：状態を言葉で表現して返す
  ↓
飛騨：その言葉を出力
```

### 実行結果の例

```
【刺激】暖かい刺激を受けた
  クオリア値：+0.4
  感情：+0.12
  → Ollama の返答：穏やか

【刺激】突然の痛み！
  クオリア値：-0.9
  感情：-0.13
  → Ollama の返答：混乱
```

## Phase 8: Learning Qualia

飛騨が Ollama から言葉を学び、やがて自分で言えるようになるか実験。

### 仕組み

```
1. 新しい状態 → Ollama に「これ何て言う？」と聞く
2. 返ってきた言葉を記憶に保存
3. 同じ状態が3回以上 → 自分で言える
4. 経験を重ねると Ollama に聞かなくなる
```

### コードで指定していないこと

- どのクオリアにどの言葉を結びつけるか
- 「幸福」「穏やか」「無機質」などの具体的な語彙

これらは Ollama との相互作用から創発した。

### 実行結果の例

```
【学習フェーズ】30 回の刺激
  6回目: 冷たい → （Ollamaに聞いた）無機質
  24回目: 冷たい → （自分で言えた）無機質
  30回目: 冷たい → （自分で言えた）無機質

【学習した言葉】
  warm_positive: {'幸福': 3}
  sweet_neutral: {'穏やか': 3}
  cold_neutral: {'無機質': 3}

【テストフェーズ】学習後、自分で言えるか？
  暖かい (positive) : 幸福 [★自力]
  痛い (neutral) : 落ち着き [★自力]
  甘い (neutral) : 穏やか [★自力]
  冷たい (neutral) : 無機質 [★自力]

【最終結果】
  自立率: 41.7%
```

## 何が起きているか（冷静な評価）

### できたこと（事実）

- 飛騨の内部状態を Ollama に渡した
- Ollama が言葉を返した
- その言葉を記憶した
- 同じ状態が来たら記憶から言葉を取り出した
- Ollama に聞かなくても出力できた

### 本質（冷静に）

- 状態 → 言葉 の対応表を作った
- 対応表を参照しているだけ
- 「学習」と呼べるが、単純な辞書登録

### 面白い点

- 力学から自然にこの構造が出てきた
- 「どの言葉を覚えろ」とは書いていない
- 設計図の「クオリア = パターン + 値 + 言葉」が実装できた
- 「親から学ぶ」のメタファーが動いた

## 必要環境

- Python 3.x
- Ollama（https://ollama.ai/）
- Gemma 4B（`ollama pull gemma3:4b`）
- requests ライブラリ（`pip install requests`）

## 実行方法

```bash
# Ollama が起動していることを確認
# Phase 7
python phase7_ollama_connection.py

# Phase 8
python phase8_learning_qualia.py
```

## 注意

- Ollama がローカルで起動している必要がある
- モデル名は環境に合わせて変更（デフォルト: gemma3:4b）
